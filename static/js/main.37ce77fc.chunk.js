(this["webpackJsonpfake-instagram-unsplash-api"]=this["webpackJsonpfake-instagram-unsplash-api"]||[]).push([[0],{45:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(26),a=s(2),c=s(3),i=s(5),o=s(4),l=s(14),j=s(9),p=s(1),u=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)("header",{role:"banner",itemscope:!0,itemtype:"http://schema.org/WPHeader",children:Object(p.jsx)("div",{className:"contain logo",children:Object(p.jsx)("img",{src:"/React-Fake-Instagram-Unsplash-API/media/logo.svg",alt:"Fake Instagram Unsplash API by MDev22"})})})}}]),s}(n.Component),b=s(48),h=s(49),d=(s(38),Array.from(Array(5).keys())),O=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=d.map((function(e){return Object(p.jsxs)(b.a,{className:"story",children:[Object(p.jsx)("img",{src:"/React-Fake-Instagram-Unsplash-API/media/images/profilo_"+(e+1)+".png",alt:"Name "+(e+1)}),Object(p.jsxs)("p",{children:["Name ",e+1]})]},e)}));return Object(p.jsxs)("section",{className:"contain stories",children:[Object(p.jsx)("p",{className:"message",children:"Stories. Static elements for UX purposes only"}),Object(p.jsx)(h.a,{spaceBetween:30,slidesPerView:4,breakpoints:{580:{slidesPerView:5},768:{slidesPerView:10}},children:e})]})}}]),s}(n.Component),m=s(8),f=s(15),x=s(19),v=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)("p",{className:"message error",children:"Something broke. Please try again later"})}}]),s}(n.Component),g=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"wrapper user-tile",children:[Object(p.jsxs)("div",{className:"flex-wrapper center",children:[Object(p.jsx)("img",{src:this.props.avatar,alt:this.props.username}),Object(p.jsx)("h3",{children:!1===this.props.linkable?"@"+this.props.username:Object(p.jsxs)(l.b,{to:"/React-Fake-Instagram-Unsplash-API/user/"+this.props.username,children:[" ",this.props.name," "]})})]}),this.props.printStats&&Object(p.jsxs)("div",{className:"wrapper user-stats",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"value",children:this.props.photos}),Object(p.jsx)("span",{children:"Photos"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"value",children:this.props.follower}),Object(p.jsx)("span",{children:"Followers"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"value",children:this.props.following}),Object(p.jsx)("span",{children:"Following"})]})]})]})}}]),s}(n.Component),k=s(28),y=s.n(k),I=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}};var N=function(e){var t=Object(n.useState)([]),s=Object(m.a)(t,2),r=s[0],a=s[1];return Object(p.jsxs)("div",{className:"wrapper reactions",children:[Object(p.jsx)("div",{className:"reactions-controls",children:Object(p.jsx)("div",{className:"control",onClick:function(){return function(e,t){switch(e){case"like":r.includes(t)?a((function(e){return e.filter((function(e){return e!==t}))})):a(r.concat(t))}}("like",e.photoid)},children:r.includes(e.photoid)?Object(p.jsx)("img",{src:"/React-Fake-Instagram-Unsplash-API/media/icons/icon_like_active.svg",alt:"like active"}):Object(p.jsx)("img",{src:"/React-Fake-Instagram-Unsplash-API/media/icons/icon_like.svg",alt:"like"})})}),Object(p.jsxs)("div",{className:"reactions-stats",children:[Object(p.jsx)("span",{children:r.includes(e.photoid)?e.likes+1:e.likes})," Likes"]})]})},w=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(N,{photoid:this.props.photoid,likes:this.props.likes})}}]),s}(n.Component),P=function(e){var t=function(){var e=Object(n.useState)(I()),t=Object(m.a)(e,2),s=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(I())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),s}(),s=t.width,r=(t.height,Object(n.useState)(250)),a=Object(m.a)(r,2),c=a[0],i=a[1];return"string"!==typeof e.description||0===e.description.length?null:(s<=580&&250===c?i(100):s>580&&100===c&&i(250),Object(p.jsx)("figcaption",{children:Object(p.jsx)(y.a,{charLimit:c,readMoreText:"Read more",readLessText:"Read less",readMoreClassName:"read-more-less--more",readLessClassName:"read-more-less--less",children:e.description})}))},A=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("figure",{className:"thumbnail",children:[this.props.background?Object(p.jsxs)(l.b,{to:"/React-Fake-Instagram-Unsplash-API/photo/"+this.props.username+"/"+this.props.photoid,children:[Object(p.jsx)("img",{style:{display:"none"},src:this.props.thumbnail,alt:this.props.alt}),Object(p.jsx)("div",{className:"photo",style:{backgroundImage:"url("+this.props.thumbnail+")"}})]}):Object(p.jsx)(l.b,{to:"/React-Fake-Instagram-Unsplash-API/photo/"+this.props.username+"/"+this.props.photoid,children:Object(p.jsx)("img",{src:this.props.thumbnail,alt:this.props.alt})}),!1!==this.props.reactions&&Object(p.jsx)(w,{photoid:this.props.photoid,likes:this.props.likes}),Object(p.jsx)(P,{description:this.props.description})]})}}]),s}(n.Component),C=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("section",{className:"wrapper photo",children:[Object(p.jsx)(g,{username:this.props.item.user.username,name:this.props.item.user.name,avatar:this.props.item.user.profile_image.small}),Object(p.jsx)(A,{photoid:this.props.item.id,username:this.props.item.user.username,alt:this.props.item.alt_description,description:this.props.item.description,thumbnail:this.props.item.urls.regular,likes:this.props.item.likes})]})}}]),s}(n.Component),U=function(e){var t=Object(n.useState)([]),s=Object(m.a)(t,2),r=s[0],a=s[1],c=Object(n.useState)(!0),i=Object(m.a)(c,2),o=i[0],l=i[1],j=Object(n.useState)(0),u=Object(m.a)(j,2),b=u[0],h=u[1],d=Object(n.useState)(null),O=Object(m.a)(d,2),g=O[0],k=O[1],y="Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                            Donec dignissim, leo at fermentum lobortis, libero augue vehicula felis, a convallis lectus erat ac velit.\n                            Duis facilisis, justo sit amet pharetra porttitor, diam massa tincidunt erat, a faucibus tellus orci ac nulla.";Object(n.useEffect)((function(){I()}),[]);var I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.apikey;if(r.length>=10&&!0===o)l(!1);else{var s=Object(f.a)({accessKey:t});s.photos.list({perPage:5,page:b+1}).then((function(e){e.errors?(console.error("Unsplash API Photo List => Error occurred: ",e.errors[0]),k(!1)):(k(!0),h(b+1),e.response.results.length>0&&(e.response.results[0].description=y),a(r.concat(e.response.results)))}))}};return!1===g?Object(p.jsx)(v,{}):Object(p.jsx)("section",{className:"contain feed",children:Object(p.jsx)(x.a,{dataLength:r.length,next:function(){return I()},hasMore:o,loader:Object(p.jsxs)("div",{className:"lds-ring",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]}),endMessage:Object(p.jsx)("p",{className:"message",children:"The feeds have ended. Check back later for new updates"}),children:r.map((function(e,t){return Object(p.jsx)(C,{item:e},t)}))})})},S=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(U,{apikey:this.props.apikey})}}]),s}(n.Component),F=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return[Object(p.jsx)(u,{}),Object(p.jsx)(O,{}),Object(p.jsx)(S,{apikey:"10bH_IgwPVlQKaTAYIFVLn4UJt5oofIIpZ4n5iYa0Zo"})]}}]),s}(n.Component),_=function(e){console.log(e.username);var t=Object(n.useState)([]),s=Object(m.a)(t,2),r=s[0],a=s[1],c=Object(n.useState)(0),i=Object(m.a)(c,2),o=i[0],l=i[1],j=Object(n.useState)(null),u=Object(m.a)(j,2),b=u[0],h=u[1],d=Object(n.useState)(!0),O=Object(m.a)(d,2),g=O[0],k=O[1];Object(n.useEffect)((function(){y()}),[]);var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.apikey,s=Object(f.a)({accessKey:t});s.users.getPhotos({username:e.username,perPage:10,page:o+1}).then((function(e){if(e.errors)console.error("Unsplash API Photo List by username => Error occurred: ",e.errors[0]),h(!1);else{if(!(e.response.results.length>0))return void k(!1);h(!0),l(o+1),a(r.concat(e.response.results))}}))};return!1===b?Object(p.jsx)(v,{}):Object(p.jsx)("section",{className:"feed",children:Object(p.jsx)(x.a,{dataLength:r.length,next:function(){return y()},hasMore:g,loader:Object(p.jsxs)("div",{className:"lds-ring",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]}),endMessage:Object(p.jsx)("p",{className:"message",children:"The feeds have ended. Check back later for new updates"}),children:r.map((function(e,t){return Object(p.jsx)(A,{photoid:e.id,username:e.user.username,alt:e.alt_description,thumbnail:e.urls.regular,reactions:!1,background:!0},t)}))})})},L=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)("section",{className:"user-feed",children:Object(p.jsx)(_,{apikey:this.props.apikey,username:this.props.username})})}}]),s}(n.Component),R=s(30),E=function(){return Object(p.jsx)("div",{className:"goback",children:Object(p.jsx)("div",{onClick:Object(j.e)().goBack,children:Object(p.jsx)("img",{src:"/React-Fake-Instagram-Unsplash-API/media/icons/icon_back.svg",alt:"Go back"})})})},T=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(E,{})}}]),s}(n.Component),V=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("header",{className:"user",role:"banner",itemscope:!0,itemtype:"http://schema.org/WPHeader",children:[Object(p.jsxs)(R.a,{children:[Object(p.jsx)("title",{children:this.props.title+" - Fake Instagram"}),Object(p.jsx)("meta",{name:"description",content:null!==this.props.description?this.props.description:"This is an exercise. The goal is to create a fake Instagram instance using Unsplash API with React"})]}),Object(p.jsxs)("div",{className:"contain",children:[Object(p.jsx)(T,{}),Object(p.jsx)("h1",{itemprop:"name",children:this.props.title})]})]})}}]),s}(n.Component),K=function(e){var t=Object(j.f)(),s=Object(n.useState)(null),r=Object(m.a)(s,2),a=r[0],c=r[1],i=Object(n.useState)({}),o=Object(m.a)(i,2),l=o[0],u=o[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.apikey,n=Object(f.a)({accessKey:s});n.users.get({username:t.username}).then((function(e){e.errors?(console.error("Unsplash API Get user by username => Error occurred: ",e.errors[0]),c(!1)):(c(!0),u(e.response))}))};return!1===a?Object(p.jsx)(v,{}):Object(p.jsxs)("div",{className:"wrapper-user",children:[Object(p.jsx)(V,{title:l.name,description:l.bio}),Object(p.jsx)("div",{className:"contain",children:"undefined"!==typeof l.profile_image&&Object(p.jsx)("div",{className:"contain medium",children:Object(p.jsx)(g,{avatar:l.profile_image.large,username:l.username,linkable:!1,printStats:!0,photos:l.total_photos,follower:l.followers_count,following:l.following_count})})}),Object(p.jsx)("div",{className:"contain medium",children:Object(p.jsx)(L,{apikey:e.apikey,username:t.username})})]})},M=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(K,{apikey:"10bH_IgwPVlQKaTAYIFVLn4UJt5oofIIpZ4n5iYa0Zo"})}}]),s}(n.Component),H=function(e){var t=Object(j.f)(),s=Object(n.useState)(null),r=Object(m.a)(s,2),a=r[0],c=r[1],i=Object(n.useState)({}),o=Object(m.a)(i,2),l=o[0],u=o[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.apikey,n=Object(f.a)({accessKey:s});n.photos.get({photoId:t.photoid}).then((function(e){e.errors?(console.error("Unsplash API Get photo by ID => Error occurred: ",e.errors[0]),c(!1)):(c(!0),u(e.response))}))};return!1===a?Object(p.jsx)(v,{}):Object(p.jsxs)("div",{className:"wrapper-photo",children:[Object(p.jsx)(V,{title:t.username,description:l.alt_description}),Object(p.jsx)("section",{className:"contain medium",children:"undefined"!==typeof l.urls&&Object(p.jsx)(A,{alt:l.alt_description,thumbnail:l.urls.regular,description:l.description,likes:l.likes})})]})},Y=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsx)(H,{apikey:"10bH_IgwPVlQKaTAYIFVLn4UJt5oofIIpZ4n5iYa0Zo"})}}]),s}(n.Component),Z=function(e){Object(i.a)(s,e);var t=Object(o.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(p.jsxs)(l.a,{children:[Object(p.jsx)(j.a,{exact:!0,path:"/React-Fake-Instagram-Unsplash-API",component:F}),Object(p.jsx)(j.a,{path:"/React-Fake-Instagram-Unsplash-API/user/:username",component:M}),Object(p.jsx)(j.a,{path:"/React-Fake-Instagram-Unsplash-API/photo/:username/:photoid",component:Y})]})}}]),s}(n.Component);s(45);Object(r.render)(Object(p.jsx)(Z,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.37ce77fc.chunk.js.map